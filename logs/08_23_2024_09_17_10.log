[ 2024-08-23 09:17:11,302 ] httpx - DEBUG - load_ssl_context verify=True cert=None trust_env=True http2=False
[ 2024-08-23 09:17:11,309 ] httpx - DEBUG - load_verify_locations cafile='D:\\VIVI_AI\\yogo\\Library\\ssl\\cacert.pem'
[ 2024-08-23 09:17:14,039 ] httpx - DEBUG - load_ssl_context verify=True cert=None trust_env=True http2=False
[ 2024-08-23 09:17:14,039 ] httpx - DEBUG - load_verify_locations cafile='D:\\VIVI_AI\\yogo\\Library\\ssl\\cacert.pem'
[ 2024-08-23 09:17:14,544 ] httpx - DEBUG - load_ssl_context verify=True cert=None trust_env=True http2=False
[ 2024-08-23 09:17:14,544 ] httpx - DEBUG - load_verify_locations cafile='D:\\VIVI_AI\\yogo\\Library\\ssl\\cacert.pem'
[ 2024-08-23 09:17:15,315 ] faiss.loader - DEBUG - Environment variable FAISS_OPT_LEVEL is not set, so let's pick the instruction set according to the current CPU
[ 2024-08-23 09:17:15,315 ] faiss.loader - INFO - Loading faiss with AVX2 support.
[ 2024-08-23 09:17:15,349 ] faiss.loader - INFO - Successfully loaded faiss with AVX2 support.
[ 2024-08-23 09:17:15,538 ] matplotlib - DEBUG - matplotlib data path: D:\VIVI_AI\yogo\Lib\site-packages\matplotlib\mpl-data
[ 2024-08-23 09:17:15,553 ] matplotlib - DEBUG - CONFIGDIR=C:\Users\PC\.matplotlib
[ 2024-08-23 09:17:15,553 ] matplotlib - DEBUG - interactive is False
[ 2024-08-23 09:17:15,553 ] matplotlib - DEBUG - platform is win32
[ 2024-08-23 09:17:15,714 ] matplotlib - DEBUG - CACHEDIR=C:\Users\PC\.matplotlib
[ 2024-08-23 09:17:15,727 ] matplotlib.font_manager - DEBUG - Using fontManager instance from C:\Users\PC\.matplotlib\fontlist-v390.json
[ 2024-08-23 09:17:17,015 ] werkzeug - WARNING -  * Debugger is active!
[ 2024-08-23 09:17:17,027 ] werkzeug - INFO -  * Debugger PIN: 331-538-268
[ 2024-08-23 09:17:17,135 ] werkzeug - INFO - 127.0.0.1 - - [23/Aug/2024 09:17:17] "GET / HTTP/1.1" 200 -
[ 2024-08-23 09:17:17,170 ] werkzeug - INFO - 127.0.0.1 - - [23/Aug/2024 09:17:17] "[33mGET /static/script.js HTTP/1.1[0m" 404 -
[ 2024-08-23 09:17:17,171 ] werkzeug - INFO - 127.0.0.1 - - [23/Aug/2024 09:17:17] "[33mGET /static/chatbot.css HTTP/1.1[0m" 404 -
[ 2024-08-23 09:17:17,263 ] werkzeug - INFO - 127.0.0.1 - - [23/Aug/2024 09:17:17] "GET /static/style.css HTTP/1.1" 200 -
[ 2024-08-23 09:17:17,277 ] werkzeug - INFO - 127.0.0.1 - - [23/Aug/2024 09:17:17] "[33mGET /static/script.js HTTP/1.1[0m" 404 -
[ 2024-08-23 09:17:17,290 ] werkzeug - INFO - 127.0.0.1 - - [23/Aug/2024 09:17:17] "GET /static/vivi.png HTTP/1.1" 200 -
[ 2024-08-23 09:17:17,299 ] werkzeug - INFO - 127.0.0.1 - - [23/Aug/2024 09:17:17] "[36mGET /static/new_latest.jpg HTTP/1.1[0m" 304 -
[ 2024-08-23 09:17:17,301 ] werkzeug - INFO - 127.0.0.1 - - [23/Aug/2024 09:17:17] "[36mGET /static/2nd_his.jpg HTTP/1.1[0m" 304 -
[ 2024-08-23 09:17:17,301 ] werkzeug - INFO - 127.0.0.1 - - [23/Aug/2024 09:17:17] "[36mGET /static/chatbot.png HTTP/1.1[0m" 304 -
[ 2024-08-23 09:17:20,260 ] chat_app - ERROR - Error in chat route: 'msg'
[ 2024-08-23 09:17:20,260 ] werkzeug - INFO - 127.0.0.1 - - [23/Aug/2024 09:17:20] "[35m[1mPOST /get HTTP/1.1[0m" 500 -
[ 2024-08-23 09:17:21,057 ] chat_app - ERROR - Error in chat route: 'msg'
[ 2024-08-23 09:17:21,058 ] werkzeug - INFO - 127.0.0.1 - - [23/Aug/2024 09:17:21] "[35m[1mPOST /get HTTP/1.1[0m" 500 -
[ 2024-08-23 09:17:25,714 ] chat_app - ERROR - Error in chat route: 'msg'
[ 2024-08-23 09:17:25,715 ] werkzeug - INFO - 127.0.0.1 - - [23/Aug/2024 09:17:25] "[35m[1mPOST /get HTTP/1.1[0m" 500 -
[ 2024-08-23 09:17:25,715 ] root - INFO - Message is What is GBM
[ 2024-08-23 09:17:25,715 ] chat_app - DEBUG - Entering rag_chain with query: What is GBM
[ 2024-08-23 09:17:25,715 ] root - INFO - Query is What is GBM
[ 2024-08-23 09:17:25,715 ] chat_app - DEBUG - PromptTemplate created
[ 2024-08-23 09:17:25,725 ] httpx - DEBUG - load_ssl_context verify=True cert=None trust_env=True http2=False
[ 2024-08-23 09:17:25,725 ] httpx - DEBUG - load_verify_locations cafile='D:\\VIVI_AI\\yogo\\Library\\ssl\\cacert.pem'
[ 2024-08-23 09:17:26,167 ] httpx - DEBUG - load_ssl_context verify=True cert=None trust_env=True http2=False
[ 2024-08-23 09:17:26,169 ] httpx - DEBUG - load_verify_locations cafile='D:\\VIVI_AI\\yogo\\Library\\ssl\\cacert.pem'
[ 2024-08-23 09:17:27,000 ] chat_app - DEBUG - RetrievalQA created
[ 2024-08-23 09:17:27,632 ] openai._base_client - DEBUG - Request options: {'method': 'post', 'url': '/embeddings', 'files': None, 'post_parser': <function Embeddings.create.<locals>.parser at 0x000002047E449800>, 'json_data': {'input': [[3923, 374, 19397, 44]], 'model': 'text-embedding-ada-002', 'encoding_format': 'base64'}}
[ 2024-08-23 09:17:27,649 ] openai._base_client - DEBUG - Sending HTTP Request: POST https://api.openai.com/v1/embeddings
[ 2024-08-23 09:17:27,649 ] httpcore.connection - DEBUG - connect_tcp.started host='api.openai.com' port=443 local_address=None timeout=None socket_options=None
[ 2024-08-23 09:17:27,964 ] httpcore.connection - DEBUG - connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x000002047DC03490>
[ 2024-08-23 09:17:27,964 ] httpcore.connection - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x000002047275E3C0> server_hostname='api.openai.com' timeout=None
[ 2024-08-23 09:17:28,049 ] httpcore.connection - DEBUG - start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x000002047E2F5990>
[ 2024-08-23 09:17:28,049 ] httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'POST']>
[ 2024-08-23 09:17:28,060 ] httpcore.http11 - DEBUG - send_request_headers.complete
[ 2024-08-23 09:17:28,060 ] httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'POST']>
[ 2024-08-23 09:17:28,060 ] httpcore.http11 - DEBUG - send_request_body.complete
[ 2024-08-23 09:17:28,060 ] httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
[ 2024-08-23 09:17:28,552 ] httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Fri, 23 Aug 2024 03:47:28 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'access-control-allow-origin', b'*'), (b'access-control-expose-headers', b'X-Request-ID'), (b'openai-model', b'text-embedding-ada-002'), (b'openai-organization', b'user-g4hromwdelqvif9h7gpua77n'), (b'openai-processing-ms', b'36'), (b'openai-version', b'2020-10-01'), (b'strict-transport-security', b'max-age=15552000; includeSubDomains; preload'), (b'x-ratelimit-limit-requests', b'3000'), (b'x-ratelimit-limit-tokens', b'1000000'), (b'x-ratelimit-remaining-requests', b'2999'), (b'x-ratelimit-remaining-tokens', b'999996'), (b'x-ratelimit-reset-requests', b'20ms'), (b'x-ratelimit-reset-tokens', b'0s'), (b'x-request-id', b'req_4fd4931478a90950cb48a531210ca5e1'), (b'CF-Cache-Status', b'DYNAMIC'), (b'Set-Cookie', b'__cf_bm=YVDdzeZmCzEUUtkjKq6WULLZzrJWq.Fvh1l1c.im70g-1724384848-1.0.1.1-USir0cL2JnUg99qQcGszNm_OC.76YWYvlNBGGSXhFdj9.j1f0g8JoQLxw8ChGOMSv5TlEb9u1EvTlQolOOCgFA; path=/; expires=Fri, 23-Aug-24 04:17:28 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), (b'X-Content-Type-Options', b'nosniff'), (b'Set-Cookie', b'_cfuvid=tXpB17KsEE3JNg3RFl4BvDgoDJ_L76tkxXIOMTAA5Mw-1724384848461-0.0.1.1-604800000; path=/; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), (b'Server', b'cloudflare'), (b'CF-RAY', b'8b781f149a8c492a-BOM'), (b'Content-Encoding', b'gzip'), (b'alt-svc', b'h3=":443"; ma=86400')])
[ 2024-08-23 09:17:28,552 ] httpx - INFO - HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
[ 2024-08-23 09:17:28,562 ] httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'POST']>
[ 2024-08-23 09:17:28,564 ] httpcore.http11 - DEBUG - receive_response_body.complete
[ 2024-08-23 09:17:28,564 ] httpcore.http11 - DEBUG - response_closed.started
[ 2024-08-23 09:17:28,564 ] httpcore.http11 - DEBUG - response_closed.complete
[ 2024-08-23 09:17:28,564 ] openai._base_client - DEBUG - HTTP Response: POST https://api.openai.com/v1/embeddings "200 OK" Headers([('date', 'Fri, 23 Aug 2024 03:47:28 GMT'), ('content-type', 'application/json'), ('transfer-encoding', 'chunked'), ('connection', 'keep-alive'), ('access-control-allow-origin', '*'), ('access-control-expose-headers', 'X-Request-ID'), ('openai-model', 'text-embedding-ada-002'), ('openai-organization', 'user-g4hromwdelqvif9h7gpua77n'), ('openai-processing-ms', '36'), ('openai-version', '2020-10-01'), ('strict-transport-security', 'max-age=15552000; includeSubDomains; preload'), ('x-ratelimit-limit-requests', '3000'), ('x-ratelimit-limit-tokens', '1000000'), ('x-ratelimit-remaining-requests', '2999'), ('x-ratelimit-remaining-tokens', '999996'), ('x-ratelimit-reset-requests', '20ms'), ('x-ratelimit-reset-tokens', '0s'), ('x-request-id', 'req_4fd4931478a90950cb48a531210ca5e1'), ('cf-cache-status', 'DYNAMIC'), ('set-cookie', '__cf_bm=YVDdzeZmCzEUUtkjKq6WULLZzrJWq.Fvh1l1c.im70g-1724384848-1.0.1.1-USir0cL2JnUg99qQcGszNm_OC.76YWYvlNBGGSXhFdj9.j1f0g8JoQLxw8ChGOMSv5TlEb9u1EvTlQolOOCgFA; path=/; expires=Fri, 23-Aug-24 04:17:28 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), ('x-content-type-options', 'nosniff'), ('set-cookie', '_cfuvid=tXpB17KsEE3JNg3RFl4BvDgoDJ_L76tkxXIOMTAA5Mw-1724384848461-0.0.1.1-604800000; path=/; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), ('server', 'cloudflare'), ('cf-ray', '8b781f149a8c492a-BOM'), ('content-encoding', 'gzip'), ('alt-svc', 'h3=":443"; ma=86400')])
[ 2024-08-23 09:17:28,564 ] openai._base_client - DEBUG - request_id: req_4fd4931478a90950cb48a531210ca5e1
[ 2024-08-23 09:17:28,633 ] openai._base_client - DEBUG - Request options: {'method': 'post', 'url': '/completions', 'files': None, 'json_data': {'model': 'gpt-3.5-turbo-instruct', 'prompt': ["\n            Use the following pieces of information to answer the user's question.\n            If you don't know the answer, just say that you don't know, don't try to make up an answer.\n            Context: Abstract: Glioblastoma multiforme (GBM) is the most common and malignant type of primary brain\ntumor in adults. Despite important advances in understanding the molecular pathogenesis and\nbiology of this tumor in the past decade, the prognosis for GBM patients remains poor. GBM is\ncharacterized by aggressive biological behavior and high degrees of inter-tumor and intra-tumor\nheterogeneity. Increased understanding of the molecular and cellular heterogeneity of GBM may not\n\nReceived: 5 February 2019; Accepted: 26 March 2019; Published: 3 April 2019\n/gid00030/gid00035/gid00032/gid00030/gid00038/gid00001/gid00033/gid00042/gid00045 /gid00001\n/gid00048/gid00043/gid00031/gid00028/gid00047/gid00032/gid00046\nAbstract: Glioblastoma (GBM) is one of the most aggressive and lethal human brain tumors.\nAt present, GBMs are divided in primary and secondary on the basis of the mutational status of\n\ning GBM, emphasizing the importance of molecular biomarkers in GBM pathological\ndiagnosis. Together with the new advances in technology or concept of GBM biologi-\ncal research, e.g., single-cell technology [ 24–27], deep learning-based multi-omics data\nexploration [ 28–30], novel 3D preclinical GBM models [ 31–33], and emphasis on tumor\nInt. J. Mol. Sci. 2024 ,25, 3040. https://doi.org/10.3390/ijms25053040 https://www.mdpi.com/journal/ijms\n\nGBM can be further separated into two major classes: primary GBM and secondary\nGBM, with the majority being primary [ 5–7]. Primary GBM arises de novo with no known\nclinical precursor, and most occur in elderly adults (older than 50 years of age), while\nsecondary GBM is a result of progression from a pre-existing lower malignancy grade and\nusually affects younger patients. Primary and secondary GBM are morphologically indistin-\n            Question: What is GBM\n            Only return the helpful answer below and nothing else.\n            Helpful answer:\n        "], 'frequency_penalty': 0.0, 'logit_bias': {}, 'max_tokens': 256, 'n': 1, 'presence_penalty': 0.0, 'temperature': 0.7, 'top_p': 1.0}}
[ 2024-08-23 09:17:28,633 ] openai._base_client - DEBUG - Sending HTTP Request: POST https://api.openai.com/v1/completions
[ 2024-08-23 09:17:28,633 ] httpcore.connection - DEBUG - connect_tcp.started host='api.openai.com' port=443 local_address=None timeout=None socket_options=None
[ 2024-08-23 09:17:28,758 ] httpcore.connection - DEBUG - connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x000002047F63E2D0>
[ 2024-08-23 09:17:28,758 ] httpcore.connection - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x000002047E1CB1D0> server_hostname='api.openai.com' timeout=None
[ 2024-08-23 09:17:28,845 ] httpcore.connection - DEBUG - start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x000002047F63F850>
[ 2024-08-23 09:17:28,845 ] httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'POST']>
[ 2024-08-23 09:17:28,845 ] httpcore.http11 - DEBUG - send_request_headers.complete
[ 2024-08-23 09:17:28,845 ] httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'POST']>
[ 2024-08-23 09:17:28,845 ] httpcore.http11 - DEBUG - send_request_body.complete
[ 2024-08-23 09:17:28,845 ] httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
[ 2024-08-23 09:17:30,491 ] httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Fri, 23 Aug 2024 03:47:30 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'access-control-allow-origin', b'*'), (b'access-control-expose-headers', b'X-Request-ID'), (b'Cache-Control', b'no-cache, must-revalidate'), (b'openai-model', b'gpt-3.5-turbo-instruct'), (b'openai-organization', b'user-g4hromwdelqvif9h7gpua77n'), (b'openai-processing-ms', b'908'), (b'openai-version', b'2020-10-01'), (b'strict-transport-security', b'max-age=15552000; includeSubDomains; preload'), (b'x-ratelimit-limit-requests', b'3500'), (b'x-ratelimit-limit-tokens', b'90000'), (b'x-ratelimit-remaining-requests', b'3499'), (b'x-ratelimit-remaining-tokens', b'89212'), (b'x-ratelimit-reset-requests', b'17ms'), (b'x-ratelimit-reset-tokens', b'524ms'), (b'x-request-id', b'req_8145e8d8bed7b9e4b2054e164f7b5e7f'), (b'CF-Cache-Status', b'DYNAMIC'), (b'Set-Cookie', b'__cf_bm=cJCTJ6nOyBi.dubAEeREVqoi07rlgB23_86sNHEh7eg-1724384850-1.0.1.1-ygbz3d9PwkbFbMeC6aKpF7AaVAoIyr3k7Pb6mvzwRxDwVi1GxJ.aaxVcJZg7NGcREH3DUHg.22LC1xdalJA0WQ; path=/; expires=Fri, 23-Aug-24 04:17:30 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), (b'X-Content-Type-Options', b'nosniff'), (b'Set-Cookie', b'_cfuvid=qHUAN.AyfjN.L2.rZyeDQIIJMCgMIq9M2Q.IJGnRAb8-1724384850192-0.0.1.1-604800000; path=/; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), (b'Server', b'cloudflare'), (b'CF-RAY', b'8b781f19990e47d5-BOM'), (b'Content-Encoding', b'gzip'), (b'alt-svc', b'h3=":443"; ma=86400')])
[ 2024-08-23 09:17:30,505 ] httpx - INFO - HTTP Request: POST https://api.openai.com/v1/completions "HTTP/1.1 200 OK"
[ 2024-08-23 09:17:30,505 ] httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'POST']>
[ 2024-08-23 09:17:30,508 ] httpcore.http11 - DEBUG - receive_response_body.complete
[ 2024-08-23 09:17:30,508 ] httpcore.http11 - DEBUG - response_closed.started
[ 2024-08-23 09:17:30,508 ] httpcore.http11 - DEBUG - response_closed.complete
[ 2024-08-23 09:17:30,508 ] openai._base_client - DEBUG - HTTP Response: POST https://api.openai.com/v1/completions "200 OK" Headers([('date', 'Fri, 23 Aug 2024 03:47:30 GMT'), ('content-type', 'application/json'), ('transfer-encoding', 'chunked'), ('connection', 'keep-alive'), ('access-control-allow-origin', '*'), ('access-control-expose-headers', 'X-Request-ID'), ('cache-control', 'no-cache, must-revalidate'), ('openai-model', 'gpt-3.5-turbo-instruct'), ('openai-organization', 'user-g4hromwdelqvif9h7gpua77n'), ('openai-processing-ms', '908'), ('openai-version', '2020-10-01'), ('strict-transport-security', 'max-age=15552000; includeSubDomains; preload'), ('x-ratelimit-limit-requests', '3500'), ('x-ratelimit-limit-tokens', '90000'), ('x-ratelimit-remaining-requests', '3499'), ('x-ratelimit-remaining-tokens', '89212'), ('x-ratelimit-reset-requests', '17ms'), ('x-ratelimit-reset-tokens', '524ms'), ('x-request-id', 'req_8145e8d8bed7b9e4b2054e164f7b5e7f'), ('cf-cache-status', 'DYNAMIC'), ('set-cookie', '__cf_bm=cJCTJ6nOyBi.dubAEeREVqoi07rlgB23_86sNHEh7eg-1724384850-1.0.1.1-ygbz3d9PwkbFbMeC6aKpF7AaVAoIyr3k7Pb6mvzwRxDwVi1GxJ.aaxVcJZg7NGcREH3DUHg.22LC1xdalJA0WQ; path=/; expires=Fri, 23-Aug-24 04:17:30 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), ('x-content-type-options', 'nosniff'), ('set-cookie', '_cfuvid=qHUAN.AyfjN.L2.rZyeDQIIJMCgMIq9M2Q.IJGnRAb8-1724384850192-0.0.1.1-604800000; path=/; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), ('server', 'cloudflare'), ('cf-ray', '8b781f19990e47d5-BOM'), ('content-encoding', 'gzip'), ('alt-svc', 'h3=":443"; ma=86400')])
[ 2024-08-23 09:17:30,508 ] openai._base_client - DEBUG - request_id: req_8145e8d8bed7b9e4b2054e164f7b5e7f
[ 2024-08-23 09:17:30,537 ] root - INFO - Result is 
GBM stands for Glioblastoma Multiforme, which is the most common and malignant type of primary brain tumor in adults. It is characterized by aggressive biological behavior and high degrees of inter-tumor and intra-tumor heterogeneity. There are two major classes of GBM, primary and secondary, with the majority being primary and arising de novo with no known clinical precursor.
[ 2024-08-23 09:17:30,537 ] chat_app - DEBUG - Query result: 
GBM stands for Glioblastoma Multiforme, which is the most common and malignant type of primary brain tumor in adults. It is characterized by aggressive biological behavior and high degrees of inter-tumor and intra-tumor heterogeneity. There are two major classes of GBM, primary and secondary, with the majority being primary and arising de novo with no known clinical precursor.
[ 2024-08-23 09:17:30,537 ] root - INFO - LLM response is 
GBM stands for Glioblastoma Multiforme, which is the most common and malignant type of primary brain tumor in adults. It is characterized by aggressive biological behavior and high degrees of inter-tumor and intra-tumor heterogeneity. There are two major classes of GBM, primary and secondary, with the majority being primary and arising de novo with no known clinical precursor.
[ 2024-08-23 09:17:30,537 ] werkzeug - INFO - 127.0.0.1 - - [23/Aug/2024 09:17:30] "POST /get HTTP/1.1" 200 -
[ 2024-08-23 09:17:30,553 ] chat_app - ERROR - Error in chat route: 'msg'
[ 2024-08-23 09:17:30,557 ] werkzeug - INFO - 127.0.0.1 - - [23/Aug/2024 09:17:30] "[35m[1mPOST /get HTTP/1.1[0m" 500 -
[ 2024-08-23 09:17:50,703 ] chat_app - ERROR - Error in chat route: 'msg'
[ 2024-08-23 09:17:50,703 ] werkzeug - INFO - 127.0.0.1 - - [23/Aug/2024 09:17:50] "[35m[1mPOST /get HTTP/1.1[0m" 500 -
[ 2024-08-23 09:17:50,735 ] root - INFO - Message is what is GBM drade IV
[ 2024-08-23 09:17:50,735 ] chat_app - DEBUG - Entering rag_chain with query: what is GBM drade IV
[ 2024-08-23 09:17:50,735 ] root - INFO - Query is what is GBM drade IV
[ 2024-08-23 09:17:50,735 ] chat_app - DEBUG - PromptTemplate created
[ 2024-08-23 09:17:50,739 ] httpx - DEBUG - load_ssl_context verify=True cert=None trust_env=True http2=False
[ 2024-08-23 09:17:50,739 ] httpx - DEBUG - load_verify_locations cafile='D:\\VIVI_AI\\yogo\\Library\\ssl\\cacert.pem'
[ 2024-08-23 09:17:51,227 ] httpx - DEBUG - load_ssl_context verify=True cert=None trust_env=True http2=False
[ 2024-08-23 09:17:51,227 ] httpx - DEBUG - load_verify_locations cafile='D:\\VIVI_AI\\yogo\\Library\\ssl\\cacert.pem'
[ 2024-08-23 09:17:51,734 ] chat_app - DEBUG - RetrievalQA created
[ 2024-08-23 09:17:51,734 ] openai._base_client - DEBUG - Request options: {'method': 'post', 'url': '/embeddings', 'files': None, 'post_parser': <function Embeddings.create.<locals>.parser at 0x000002047E4D4900>, 'json_data': {'input': [[12840, 374, 19397, 44, 1377, 1037, 17244]], 'model': 'text-embedding-ada-002', 'encoding_format': 'base64'}}
[ 2024-08-23 09:17:51,734 ] openai._base_client - DEBUG - Sending HTTP Request: POST https://api.openai.com/v1/embeddings
[ 2024-08-23 09:17:51,734 ] httpcore.connection - DEBUG - close.started
[ 2024-08-23 09:17:51,734 ] httpcore.connection - DEBUG - close.complete
[ 2024-08-23 09:17:51,734 ] httpcore.connection - DEBUG - connect_tcp.started host='api.openai.com' port=443 local_address=None timeout=None socket_options=None
[ 2024-08-23 09:17:51,898 ] httpcore.connection - DEBUG - connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x000002047E504BD0>
[ 2024-08-23 09:17:51,898 ] httpcore.connection - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x000002047275E3C0> server_hostname='api.openai.com' timeout=None
[ 2024-08-23 09:17:52,114 ] httpcore.connection - DEBUG - start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x000002047E505990>
[ 2024-08-23 09:17:52,114 ] httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'POST']>
[ 2024-08-23 09:17:52,118 ] httpcore.http11 - DEBUG - send_request_headers.complete
[ 2024-08-23 09:17:52,118 ] httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'POST']>
[ 2024-08-23 09:17:52,118 ] httpcore.http11 - DEBUG - send_request_body.complete
[ 2024-08-23 09:17:52,118 ] httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
[ 2024-08-23 09:17:52,820 ] httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Fri, 23 Aug 2024 03:47:52 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'access-control-allow-origin', b'*'), (b'access-control-expose-headers', b'X-Request-ID'), (b'openai-model', b'text-embedding-ada-002'), (b'openai-organization', b'user-g4hromwdelqvif9h7gpua77n'), (b'openai-processing-ms', b'21'), (b'openai-version', b'2020-10-01'), (b'strict-transport-security', b'max-age=15552000; includeSubDomains; preload'), (b'x-ratelimit-limit-requests', b'3000'), (b'x-ratelimit-limit-tokens', b'1000000'), (b'x-ratelimit-remaining-requests', b'2999'), (b'x-ratelimit-remaining-tokens', b'999993'), (b'x-ratelimit-reset-requests', b'20ms'), (b'x-ratelimit-reset-tokens', b'0s'), (b'x-request-id', b'req_d0ea139abf766588433ab89eac968944'), (b'CF-Cache-Status', b'DYNAMIC'), (b'X-Content-Type-Options', b'nosniff'), (b'Server', b'cloudflare'), (b'CF-RAY', b'8b781fab1c6e4421-BOM'), (b'Content-Encoding', b'gzip'), (b'alt-svc', b'h3=":443"; ma=86400')])
[ 2024-08-23 09:17:52,829 ] httpx - INFO - HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
[ 2024-08-23 09:17:52,829 ] httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'POST']>
[ 2024-08-23 09:17:52,829 ] httpcore.http11 - DEBUG - receive_response_body.complete
[ 2024-08-23 09:17:52,829 ] httpcore.http11 - DEBUG - response_closed.started
[ 2024-08-23 09:17:52,829 ] httpcore.http11 - DEBUG - response_closed.complete
[ 2024-08-23 09:17:52,829 ] openai._base_client - DEBUG - HTTP Response: POST https://api.openai.com/v1/embeddings "200 OK" Headers({'date': 'Fri, 23 Aug 2024 03:47:52 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'access-control-allow-origin': '*', 'access-control-expose-headers': 'X-Request-ID', 'openai-model': 'text-embedding-ada-002', 'openai-organization': 'user-g4hromwdelqvif9h7gpua77n', 'openai-processing-ms': '21', 'openai-version': '2020-10-01', 'strict-transport-security': 'max-age=15552000; includeSubDomains; preload', 'x-ratelimit-limit-requests': '3000', 'x-ratelimit-limit-tokens': '1000000', 'x-ratelimit-remaining-requests': '2999', 'x-ratelimit-remaining-tokens': '999993', 'x-ratelimit-reset-requests': '20ms', 'x-ratelimit-reset-tokens': '0s', 'x-request-id': 'req_d0ea139abf766588433ab89eac968944', 'cf-cache-status': 'DYNAMIC', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '8b781fab1c6e4421-BOM', 'content-encoding': 'gzip', 'alt-svc': 'h3=":443"; ma=86400'})
[ 2024-08-23 09:17:52,829 ] openai._base_client - DEBUG - request_id: req_d0ea139abf766588433ab89eac968944
[ 2024-08-23 09:17:52,863 ] openai._base_client - DEBUG - Request options: {'method': 'post', 'url': '/completions', 'files': None, 'json_data': {'model': 'gpt-3.5-turbo-instruct', 'prompt': ['\n            Use the following pieces of information to answer the user\'s question.\n            If you don\'t know the answer, just say that you don\'t know, don\'t try to make up an answer.\n            Context: At the present time, GBMs are classified into four different subtypes, based on \ntheir most common genetic characteristics: classical, neural, proneural, and \nmesenchymal. For more information about GBMs please see Appendix A en -\ntitled "Molecular Characteristics of a GBM."\nThe challenges presented by GBM are motivating researchers to find new and \nsophisticated ways of treating this cancer. One promising new treatment ap -\n\nReceived: 5 February 2019; Accepted: 26 March 2019; Published: 3 April 2019\n/gid00030/gid00035/gid00032/gid00030/gid00038/gid00001/gid00033/gid00042/gid00045 /gid00001\n/gid00048/gid00043/gid00031/gid00028/gid00047/gid00032/gid00046\nAbstract: Glioblastoma (GBM) is one of the most aggressive and lethal human brain tumors.\nAt present, GBMs are divided in primary and secondary on the basis of the mutational status of\n\nmor with a 5-year survival rate of about 5 %. According to the\n2007 World Health Organization (WHO) classification ofbrain tumors, they are classified as grade IV tumors ( 2). GBMs\nhave a peak incidence in the fifth or sixth decade of life but,may occur at all ages. GBMs are molecularly and histologi-cally very heterogeneous and frequently carry EGFR or\nPDGFRA amplifications, IDH, NF1, RB1, TERT ,o rTP53 mu-\ntations, CDKN2A deletions, chromosome 7 gains, chromosome\n\n29,36,45]. The GBM diagnosis is today based on both his-\ntological and molecular analyses according to the WorldHealth Organization ’s (WHO) Classification of Tumors of\nthe Central Nervous System [ 24]. Here, GBMs are histologi-\ncally classified as diffuse astrocytomas of the highest malig-nancy grade (i.e., diffuse astrocytoma grade IV) [ 24]. The\ngrading is based on the presence of the histopathological fea-\ntures atypia, mitotic activity, increased cellular density, micro-\n            Question: what is GBM drade IV\n            Only return the helpful answer below and nothing else.\n            Helpful answer:\n        '], 'frequency_penalty': 0.0, 'logit_bias': {}, 'max_tokens': 256, 'n': 1, 'presence_penalty': 0.0, 'temperature': 0.7, 'top_p': 1.0}}
[ 2024-08-23 09:17:52,863 ] openai._base_client - DEBUG - Sending HTTP Request: POST https://api.openai.com/v1/completions
[ 2024-08-23 09:17:52,865 ] httpcore.connection - DEBUG - connect_tcp.started host='api.openai.com' port=443 local_address=None timeout=None socket_options=None
[ 2024-08-23 09:17:52,991 ] httpcore.connection - DEBUG - connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x000002047E4CE150>
[ 2024-08-23 09:17:52,991 ] httpcore.connection - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x000002047E34BDA0> server_hostname='api.openai.com' timeout=None
[ 2024-08-23 09:17:53,090 ] httpcore.connection - DEBUG - start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x000002047E4CE090>
[ 2024-08-23 09:17:53,090 ] httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'POST']>
[ 2024-08-23 09:17:53,090 ] httpcore.http11 - DEBUG - send_request_headers.complete
[ 2024-08-23 09:17:53,090 ] httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'POST']>
[ 2024-08-23 09:17:53,090 ] httpcore.http11 - DEBUG - send_request_body.complete
[ 2024-08-23 09:17:53,090 ] httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
[ 2024-08-23 09:17:55,079 ] httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Fri, 23 Aug 2024 03:47:54 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'access-control-allow-origin', b'*'), (b'access-control-expose-headers', b'X-Request-ID'), (b'Cache-Control', b'no-cache, must-revalidate'), (b'openai-model', b'gpt-3.5-turbo-instruct'), (b'openai-organization', b'user-g4hromwdelqvif9h7gpua77n'), (b'openai-processing-ms', b'759'), (b'openai-version', b'2020-10-01'), (b'strict-transport-security', b'max-age=15552000; includeSubDomains; preload'), (b'x-ratelimit-limit-requests', b'3500'), (b'x-ratelimit-limit-tokens', b'90000'), (b'x-ratelimit-remaining-requests', b'3499'), (b'x-ratelimit-remaining-tokens', b'89205'), (b'x-ratelimit-reset-requests', b'17ms'), (b'x-ratelimit-reset-tokens', b'530ms'), (b'x-request-id', b'req_58abe029fc25249a15dc943f5fe25759'), (b'CF-Cache-Status', b'DYNAMIC'), (b'Set-Cookie', b'__cf_bm=nrTlq4GRFNooH7FbUFZTsWXeUwFiOdjst88r.wajXdA-1724384874-1.0.1.1-Hf5CgFc86pl9qVTWhrCOoy67LeeGBEzOvbzlSJxvnvf7l2UUS1joxevvT3xdUsxDfVGnCDkkNJq6YdEbFXvG_A; path=/; expires=Fri, 23-Aug-24 04:17:54 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), (b'X-Content-Type-Options', b'nosniff'), (b'Set-Cookie', b'_cfuvid=NT1wjf8Nq3PHKnj.a4k6a0Jb2ZS78tpdAwvpUS0zrfo-1724384874364-0.0.1.1-604800000; path=/; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), (b'Server', b'cloudflare'), (b'CF-RAY', b'8b781fb12d00444f-BOM'), (b'Content-Encoding', b'gzip'), (b'alt-svc', b'h3=":443"; ma=86400')])
[ 2024-08-23 09:17:55,081 ] httpx - INFO - HTTP Request: POST https://api.openai.com/v1/completions "HTTP/1.1 200 OK"
[ 2024-08-23 09:17:55,081 ] httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'POST']>
[ 2024-08-23 09:17:55,082 ] httpcore.http11 - DEBUG - receive_response_body.complete
[ 2024-08-23 09:17:55,082 ] httpcore.http11 - DEBUG - response_closed.started
[ 2024-08-23 09:17:55,082 ] httpcore.http11 - DEBUG - response_closed.complete
[ 2024-08-23 09:17:55,083 ] openai._base_client - DEBUG - HTTP Response: POST https://api.openai.com/v1/completions "200 OK" Headers([('date', 'Fri, 23 Aug 2024 03:47:54 GMT'), ('content-type', 'application/json'), ('transfer-encoding', 'chunked'), ('connection', 'keep-alive'), ('access-control-allow-origin', '*'), ('access-control-expose-headers', 'X-Request-ID'), ('cache-control', 'no-cache, must-revalidate'), ('openai-model', 'gpt-3.5-turbo-instruct'), ('openai-organization', 'user-g4hromwdelqvif9h7gpua77n'), ('openai-processing-ms', '759'), ('openai-version', '2020-10-01'), ('strict-transport-security', 'max-age=15552000; includeSubDomains; preload'), ('x-ratelimit-limit-requests', '3500'), ('x-ratelimit-limit-tokens', '90000'), ('x-ratelimit-remaining-requests', '3499'), ('x-ratelimit-remaining-tokens', '89205'), ('x-ratelimit-reset-requests', '17ms'), ('x-ratelimit-reset-tokens', '530ms'), ('x-request-id', 'req_58abe029fc25249a15dc943f5fe25759'), ('cf-cache-status', 'DYNAMIC'), ('set-cookie', '__cf_bm=nrTlq4GRFNooH7FbUFZTsWXeUwFiOdjst88r.wajXdA-1724384874-1.0.1.1-Hf5CgFc86pl9qVTWhrCOoy67LeeGBEzOvbzlSJxvnvf7l2UUS1joxevvT3xdUsxDfVGnCDkkNJq6YdEbFXvG_A; path=/; expires=Fri, 23-Aug-24 04:17:54 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), ('x-content-type-options', 'nosniff'), ('set-cookie', '_cfuvid=NT1wjf8Nq3PHKnj.a4k6a0Jb2ZS78tpdAwvpUS0zrfo-1724384874364-0.0.1.1-604800000; path=/; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), ('server', 'cloudflare'), ('cf-ray', '8b781fb12d00444f-BOM'), ('content-encoding', 'gzip'), ('alt-svc', 'h3=":443"; ma=86400')])
[ 2024-08-23 09:17:55,083 ] openai._base_client - DEBUG - request_id: req_58abe029fc25249a15dc943f5fe25759
[ 2024-08-23 09:17:55,084 ] root - INFO - Result is 
GBM grade IV is the highest grade of malignancy for diffuse astrocytomas, according to the World Health Organization's classification of brain tumors. This type of brain tumor is characterized by atypia, mitotic activity, increased cellular density, and microvascular proliferation. GBM grade IV has a low survival rate of about 5% and is known to be very aggressive and difficult to treat. 
[ 2024-08-23 09:17:55,084 ] chat_app - DEBUG - Query result: 
GBM grade IV is the highest grade of malignancy for diffuse astrocytomas, according to the World Health Organization's classification of brain tumors. This type of brain tumor is characterized by atypia, mitotic activity, increased cellular density, and microvascular proliferation. GBM grade IV has a low survival rate of about 5% and is known to be very aggressive and difficult to treat. 
[ 2024-08-23 09:17:55,084 ] root - INFO - LLM response is 
GBM grade IV is the highest grade of malignancy for diffuse astrocytomas, according to the World Health Organization's classification of brain tumors. This type of brain tumor is characterized by atypia, mitotic activity, increased cellular density, and microvascular proliferation. GBM grade IV has a low survival rate of about 5% and is known to be very aggressive and difficult to treat. 
[ 2024-08-23 09:17:55,085 ] werkzeug - INFO - 127.0.0.1 - - [23/Aug/2024 09:17:55] "POST /get HTTP/1.1" 200 -
[ 2024-08-23 09:17:55,096 ] chat_app - ERROR - Error in chat route: 'msg'
[ 2024-08-23 09:17:55,096 ] werkzeug - INFO - 127.0.0.1 - - [23/Aug/2024 09:17:55] "[35m[1mPOST /get HTTP/1.1[0m" 500 -
[ 2024-08-23 09:18:04,280 ] chat_app - ERROR - Error in chat route: 'msg'
[ 2024-08-23 09:18:04,280 ] werkzeug - INFO - 127.0.0.1 - - [23/Aug/2024 09:18:04] "[35m[1mPOST /get HTTP/1.1[0m" 500 -
[ 2024-08-23 09:18:04,699 ] chat_app - ERROR - Error in chat route: 'msg'
[ 2024-08-23 09:18:04,699 ] werkzeug - INFO - 127.0.0.1 - - [23/Aug/2024 09:18:04] "[35m[1mPOST /get HTTP/1.1[0m" 500 -
[ 2024-08-23 09:18:06,587 ] chat_app - ERROR - Error in chat route: 'msg'
[ 2024-08-23 09:18:06,587 ] werkzeug - INFO - 127.0.0.1 - - [23/Aug/2024 09:18:06] "[35m[1mPOST /get HTTP/1.1[0m" 500 -
[ 2024-08-23 09:18:06,999 ] chat_app - ERROR - Error in chat route: 'msg'
[ 2024-08-23 09:18:06,999 ] werkzeug - INFO - 127.0.0.1 - - [23/Aug/2024 09:18:06] "[35m[1mPOST /get HTTP/1.1[0m" 500 -
[ 2024-08-23 09:18:07,513 ] chat_app - ERROR - Error in chat route: 'msg'
[ 2024-08-23 09:18:07,513 ] werkzeug - INFO - 127.0.0.1 - - [23/Aug/2024 09:18:07] "[35m[1mPOST /get HTTP/1.1[0m" 500 -
[ 2024-08-23 09:18:07,845 ] chat_app - ERROR - Error in chat route: 'msg'
[ 2024-08-23 09:18:07,847 ] werkzeug - INFO - 127.0.0.1 - - [23/Aug/2024 09:18:07] "[35m[1mPOST /get HTTP/1.1[0m" 500 -
[ 2024-08-23 09:18:08,307 ] chat_app - ERROR - Error in chat route: 'msg'
[ 2024-08-23 09:18:08,308 ] werkzeug - INFO - 127.0.0.1 - - [23/Aug/2024 09:18:08] "[35m[1mPOST /get HTTP/1.1[0m" 500 -
[ 2024-08-23 09:24:32,062 ] werkzeug - INFO -  * Detected change in 'D:\\VIVI_AI\\chat_app.py', reloading
[ 2024-08-23 09:24:32,221 ] httpcore.connection - DEBUG - close.started
[ 2024-08-23 09:24:32,221 ] httpcore.connection - DEBUG - close.complete
[ 2024-08-23 09:24:32,221 ] httpcore.connection - DEBUG - close.started
[ 2024-08-23 09:24:32,221 ] httpcore.connection - DEBUG - close.complete
